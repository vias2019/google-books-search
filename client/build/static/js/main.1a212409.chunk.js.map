{"version":3,"sources":["util/API.js","components/Content.js","components/Save.js","components/Result.js","components/ResultList.js","App.js","index.js"],"names":["API","getBooks","query","axios","get","deleteBook","id","delete","saveBook","bookData","console","log","post","savedBooks","then","books","data","handleSubmit","input","props","api","bookdata","updateBooks","items","Content","react_default","a","createElement","placeholder","onChange","event","target","value","handleChange","type","onClick","document","getElementById","Saved","res","handleSaved","deleteButton","_id","Result","className","title","authors","join","description","src","image","alt","href","link","bookobj","obj","ResultList","modifiedBooks","map","book","volumeInfo","selfLink","imageLinks","smallThumbnail","thumbnail","index","components_Result","key","App","state","updatedBooks","this","setState","components_Content","bind","Save","components_ResultList","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.1a212409.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n  // Gets all books\r\n  getBooks: function(query) {\r\n    return axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + query);\r\n  },\r\n  // Deletes the book with the given id\r\n  deleteBook: function(id) {\r\n    return axios.delete(\"/api/books/\" + id);\r\n  },\r\n  // Saves a book to the database\r\n  saveBook: function(bookData) {\r\n    console.log(\"bookData\",bookData);\r\n   return axios.post(\"/api/books\", bookData);\r\n  //   return fetch('/api/books', {\r\n  //   method: 'post',\r\n  //   body: JSON.stringify(bookData)\r\n  // }).then(function(response) {\r\n  //   return response.json();\r\n  // }).then(function(data) {\r\n     \r\n  //   return data;\r\n  // });\r\n  },\r\n  savedBooks: function()  {\r\n  return axios.get(\"/saved\").then(function(books){\r\n    console.log(books);\r\n    return books.data;\r\n  });\r\n  \r\n}\r\n \r\n};\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport api from \"../util/API\";\r\n\r\n\r\nfunction handleSubmit(input,props){\r\n    api.getBooks(input).then(\r\n      function(bookdata){\r\n          console.log(bookdata);\r\n          props.updateBooks(bookdata.data.items);\r\n      }  \r\n    );\r\n}\r\n\r\nfunction handleChange (event, props){\r\n    var input=event.target.value;\r\n    handleSubmit(input, props);\r\n}\r\nconst Content = (props) => (\r\n  <span>\r\n    <label>Search for Book </label>\r\n   <input id=\"input\" placeholder=\"Search for Book Name\" onChange={(event)=> handleChange(event,props)} ></input>\r\n   <button id=\"submit\" type=\"GET\" onClick={()=> handleSubmit(document.getElementById(\"input\").value,props)}>Search</button>\r\n  </span>\r\n \r\n);\r\n\r\nexport default Content;\r\n","import React from \"react\";\r\n//import Axios from \"axios\";\r\nimport api from \"../util/API\";\r\n\r\nfunction handleSaved (props){\r\n api.savedBooks().then (function(res){\r\n  console.log(res);\r\n  props.updateBooks(res);\r\n });\r\n}\r\n\r\n\r\n\r\nconst Saved= (props) => (\r\n  <span>\r\n    <button id=\"saved\" onClick={()=>handleSaved(props)}>Saved</button>\r\n  </span>\r\n);\r\n\r\n// const Result = (props) => (\r\n//   <div className =\"resultSaved\">\r\n//       <h2>{props && props.title ? props.title: \"\"}</h2>\r\n//       <h3>Author: {props && props.authors ? props.authors.join(\", \"): \"\"} </h3>\r\n//       <p>Description: {props && props.description ? props.description: \"\"}</p>\r\n//       <img src={props && props.image ? props.image: \"\"}/>\r\n//       <a href={props && props.link ? props.link: \"\"}>{props && props.link ? props.link: \"\"}</a>\r\n//       <br/>\r\n//       <button onClick={()=>deleteButton(props.obj)}>Delete</button> \r\n      \r\n     \r\n//   </div>\r\n//)\r\n\r\n\r\n\r\n\r\n\r\nexport default Saved;\r\n","import React from \"react\";\r\n//import axios from \"axios\";\r\nimport api from \"../util/API\";\r\n\r\nfunction deleteSaved (props){\r\n  console.log(props);\r\n  //  api.find({props.title},function(err, result){\r\n  //   api.deleteBook(props).then (function(res){\r\n  //     console.log(res);\r\n  //    });\r\n  //  });\r\n    \r\n}\r\nfunction saveButton (bookobj){\r\n // console.log(\"What is this?\"+props);\r\n api.saveBook(bookobj).then (function(res){\r\n  console.log(res);\r\n });\r\n    \r\n}\r\nfunction deleteButton(_id){\r\n  api.deleteBook(_id).then (function(res){\r\n    console.log(res);\r\n  });\r\n  }\r\n\r\nconst Result = (props) => (\r\n  <div className =\"result\">\r\n      <h2>{props && props.title ? props.title: \"\"}</h2>\r\n      <h3>Author: {props && props.authors ? props.authors.join(\", \"): \"\"} </h3>\r\n      <p>Description: {props && props.description ? props.description: \"\"}</p>\r\n      <img src={props && props.image ? props.image: \"\"} alt=\"\"/>\r\n      <a href={props && props.link ? props.link: \"\"}>{props && props.link ? props.link: \"\"}</a>\r\n      <br/>\r\n      <button onClick={()=>saveButton(props.obj)}>Save</button>\r\n      {/* <button onClick={()=>deleteSaved(props.obj)}>Delete</button> */}\r\n      <button onClick={()=>deleteSaved(deleteButton)}>Delete</button>\r\n     \r\n  </div>\r\n);\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\n//import axios from \"axios\";\r\nimport Result from \"./Result\";\r\n\r\n/*const ResultList = (props) => (\r\n    <div className =\"resultList\">\r\n{props.books.map((book)=>{\r\n    var obj={\r\n        title: book.volumeInfo ? book.volumeInfo.title : book.title,\r\n        authors: book.volumeInfo ? book.volumeInfo.authors: book.authors,\r\n        description: book.volumeInfo ? book.volumeInfo.description : book.description,\r\n        //image: book.volumeInfo.imageLinks.smallThumbnail ? book.volumeInfo.imageLinks.smallThumbnail : book.image,\r\n        image: book.volumeInfo ? book.volumeInfo.imageLinks.thumbnail : book.image,\r\n        link: book.selfLink ? book.selfLink : book.link\r\n    };\r\n    return (<Result\r\n    \r\n    title={obj.title}\r\n    authors ={obj.authors}\r\n    description={obj.description}\r\n    image={book.image}\r\n    link={book.link}\r\n        obj={obj}\r\n    />);\r\n})}\r\n\r\n    </div>\r\n   \r\n);*/\r\n\r\nconst ResultList = (props) => {\r\n\r\n    const modifiedBooks = props.books.map(book => {\r\n        var obj = {\r\n            title: book.volumeInfo ? book.volumeInfo.title : book.title,\r\n            //authors: book.volumeInfo ? book.volumeInfo.authors : book.authors,\r\n            description: book.volumeInfo ? book.volumeInfo.description : book.description,\r\n            //            image: (book.volumeInfo && book.volumeInfo.imageLinks && ) ? book.volumeInfo.imageLinks.thumbnail : book.image,\r\n            link: book.selfLink ? book.selfLink : book.link\r\n        };\r\n        //IF this is coming from db -- we will have book.image!\r\n        if (book.image) {\r\n            obj[\"image\"] = book.image;\r\n        } else {\r\n            //otherwise, this is coming from api!  we need to look at more stuff\r\n            if (book.volumeInfo && book.volumeInfo.imageLinks) {\r\n                if (book.volumeInfo.imageLinks.smallThumbnail) {\r\n                    obj[\"image\"] = book.volumeInfo.imageLinks.smallThumbnail;\r\n                } else if (book.volumeInfo.imageLinks.thumbnail) {\r\n                    obj[\"image\"] = book.volumeInfo.imageLinks.thumbnail;\r\n                }\r\n                else {\r\n                    obj[\"image\"] = \"\";\r\n                }\r\n            } else {\r\n                obj[\"image\"] = \"\";\r\n            }\r\n        }\r\n\r\n        // If this is coming from db - we (should) already have authors\r\n        if (book.authors) {\r\n            obj[\"authors\"] = book.authors;\r\n        } else if (book.volumeInfo && book.volumeInfo.authors) {\r\n            obj[\"authors\"] = book.volumeInfo.authors;\r\n        }\r\n        else {\r\n            obj[\"authors\"] = [\"No information available\"];\r\n        }\r\n\r\n        return obj;\r\n    });\r\n\r\n    // THIS IS WHERE WE USE JSX TO SHOW STUFF :)\r\n    return (<div className=\"resultList\">\r\n        {modifiedBooks.map( (book, index) => ((\r\n            <Result\r\n                title={book.title}\r\n                authors={book.authors}\r\n                description={book.description}\r\n                image={book.image}\r\n                link={book.link}\r\n                obj={book}\r\n                key={index}\r\n            />)))}\r\n    </div>);\r\n};\r\n\r\nexport default ResultList;","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport Content from \"./components/Content\";\r\n//import Result from \"./components/Result\";\r\nimport Save from \"./components/Save\";\r\nimport ResultList from \"./components/ResultList\";\r\n\r\n\r\nclass App extends Component {\r\n  state={\r\n    books: []\r\n  }\r\n  updateBooks(updatedBooks){\r\n    this.setState({books: updatedBooks});\r\n    console.log(this.state);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"App-header\">\r\n          {/* <img src={logo} className=\"App-logo\" alt=\"logo\" /> */}\r\n          <h1>Google-Books-Search</h1>\r\n          <Content updateBooks={this.updateBooks.bind(this)}/>\r\n          <Save updateBooks={this.updateBooks.bind(this)}/>\r\n        </div>\r\n        <ResultList books={this.state.books}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}